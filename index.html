{% extends "base.html" %}

{% block title %}所有貼文{% endblock %}

{% block content %}
    <h1 class="text-center mb-4">所有貼文</h1>

    <!-- 新增貼文按鈕 -->
    <div style="text-align: right; margin-bottom: 20px;">
        <a href="{{ url_for('post.new_post') }}" class="sent" style="text-decoration: none; padding: 10px 20px;">新增貼文</a>
    </div>

    {% for post in posts %}
        <div class="card mb-3">
            <div class="card-body">
                <h2 class="card-title">{{ post.title }}</h2>
                <p class="card-text">{{ post.content }}</p>
                <p class="card-text">
                    <small class="text-muted">
                        發佈時間: {{ post.created_at.strftime('%Y-%m-%d %H:%M:%S') }}
                    </small>
                </p>
                
                <div class="d-flex justify-content-end gap-2">
                    <a href="{{ url_for('post.edit_post', post_id=post.id) }}" class="btn btn-primary">編輯</a>
                    <form action="{{ url_for('post.delete_post', post_id=post.id) }}" method="POST" style="display:inline;">
                        <button type="submit" class="btn btn-danger">刪除</button>
                    </form>
                </div>
            </div>
        </div>
    {% else %}
        <p class="text-center">目前尚無貼文。</p>
    {% endfor %}
{% endblock %}

